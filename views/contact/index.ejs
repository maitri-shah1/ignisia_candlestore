<% layout("\layouts/boilerplate") -%>

<div class="container contact-container">
    <h2 style="text-align:center;">Weâ€™d Love to Hear From You!</h2><br><br>
    <div class="contact-layout">
        <!-- Store Information -->
        <div class="store-info flex-fill">
            <h4 class="fw-bold">SHOP DETAILS</h4><br>
            <p><i class="bi bi-geo-alt"></i> GUJARAT, INDIA</p>
            <p><i class="bi bi-envelope"></i> Email us: info@ignisia.com</p>
        </div>
        
        <!-- Contact Form -->
        <div class="contact-box flex-fill">
            <h4 class="fw-bold text-center">CONTACT US</h4>
            <form name="submit-to-google-sheet">
                <div class="mb-3 mt-5">
                    <input type="text" class="form-control" name="name" id="name" placeholder="Name" required>
                </div>
                <div class="mb-3">
                    <input type="email" class="form-control" name="email" id="email" placeholder="Email Address" required>
                </div>
                <div class="mb-3">
                    <textarea class="form-control" name="message" id="message" rows="4" placeholder="How can we help?" required></textarea>
                </div>
                <div class="text-center mt-5">
                    <button type="submit" class="btn btn-custom">Send</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- https://docs.google.com/spreadsheets/d/1PbQurUcUi5uA_JoaaxAUcUYxhNFhzffehSWrDxni4W0/edit?gid=0#gid=0 -->
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbzXZh_7dC375urSRyiLOdeeeHvhmXvGX6aws1mEnqChXIDwmbrWktD5PMM-2XFIX5of2Q/exec'
  const form = document.forms['submit-to-google-sheet']

  form.addEventListener('submit', e => {
    e.preventDefault()
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
    .then(response => {
      console.log('Success!', response);
      form.reset();  // Reset the form after submission
  })
      .catch(error => console.error('Error!', error.message))
  });
</script>